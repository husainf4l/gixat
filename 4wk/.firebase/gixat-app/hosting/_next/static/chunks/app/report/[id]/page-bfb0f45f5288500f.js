(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[717],{469:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5155),l=s(5695),i=s(6874),r=s.n(i),n=s(6766),m=s(2115),d=s(5317);let c=(0,s(3915).Wp)({apiKey:"AIzaSyDQwEey8N1z6GgwfgQtBPyMqraIwH9zvbQ",authDomain:"gixat-app.firebaseapp.com",projectId:"gixat-app",storageBucket:"gixat-app.firebasestorage.app",messagingSenderId:"452012051448",appId:"1:452012051448:web:41b3966e36e3da8d8ce40d",measurementId:"G-RPS5MNT156"}),x=(0,d.aU)(c),o=async e=>{try{if(!e||"string"!=typeof e)return console.error("Invalid report ID:",e),null;let i=(0,d.H9)(x,"reports",e),r=await (0,d.x7)(i);if(!r.exists())return console.log("No report found with ID:",e),null;{var t,s,a,l;let e=r.data(),i=(null==(s=e.createdAt)||null==(t=s.toDate)?void 0:t.call(s))?e.createdAt.toDate().toISOString():e.createdAt,n=(null==(l=e.updatedAt)||null==(a=l.toDate)?void 0:a.call(l))?e.updatedAt.toDate().toISOString():e.updatedAt;return{id:r.id,...e,createdAt:i,updatedAt:n}}}catch(e){return console.error("Error fetching report:",e),null}};function h(){let e=(0,l.useParams)().id,[t,s]=(0,m.useState)(!0),[i,d]=(0,m.useState)(null),[c,x]=(0,m.useState)(null),[h,u]=(0,m.useState)(null),p=(0,m.useRef)(null);(0,m.useEffect)(()=>{(async()=>{try{s(!0);let t=await o(e);d(t),t||x("No report found with this session ID. Please check and try again.")}catch(e){console.error("Error fetching report:",e),x("Something went wrong while fetching the report. Please try again later.")}finally{s(!1)}})()},[e]);let j=(e,t,s)=>{try{return t.split(".").reduce((e,t)=>e&&"object"==typeof e&&t in e?e[t]:null,e)||s}catch(e){return s}};if(t)return(0,a.jsx)("div",{className:"min-h-screen bg-neutral-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-neutral-700 border-t-red-600 rounded-full animate-spin"}),(0,a.jsx)("p",{className:"mt-4 text-white font-medium",children:"Loading report data..."})]})});if(c||!i)return(0,a.jsx)("div",{className:"min-h-screen bg-neutral-900 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-neutral-800 border border-neutral-700 rounded-xl p-8 max-w-md w-full text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center bg-red-900/30",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Report Not Found"}),(0,a.jsx)("p",{className:"text-neutral-400 mb-6",children:c||"Unable to load the requested report."}),(0,a.jsx)(r(),{href:"/report",className:"inline-block bg-red-600 hover:bg-red-700 text-white px-5 py-2.5 rounded-md font-medium transition",children:"Try Another Code"})]})});let g=e=>{let{images:t}=e;return(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 md:gap-3 mt-3",children:t.map((e,t)=>(0,a.jsx)("div",{className:"aspect-square rounded-md overflow-hidden bg-neutral-900 cursor-pointer relative",onClick:()=>u(e),children:(0,a.jsx)(n.default,{src:e||"",alt:"Image ".concat(t+1),fill:!0,unoptimized:e.includes("firebasestorage.googleapis.com"),sizes:"(max-width: 768px) 50vw, 25vw",className:"object-cover hover:opacity-90 transition"})},t))})},N=e=>{let{title:t,children:s,className:l=""}=e;return(0,a.jsxs)("div",{className:"p-4 sm:p-6 border-b border-neutral-700 ".concat(l),children:[(0,a.jsx)("h2",{className:"text-white text-lg font-semibold mb-3 sm:mb-4",children:t}),s]})},b=e=>{let{items:t}=e;return(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:(t||[]).map((e,t)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-neutral-900 text-white text-sm rounded-full",children:e||""},t))})};return(0,a.jsxs)("div",{className:"min-h-screen bg-neutral-900 flex flex-col",children:[h&&(0,a.jsx)(e=>{let{url:t,onClose:s}=e;return(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",onClick:s,children:(0,a.jsxs)("div",{className:"max-w-4xl w-full relative",children:[(0,a.jsx)("button",{className:"absolute -top-12 right-0 text-white hover:text-red-500",onClick:s,children:"Close \xd7"}),(0,a.jsx)("div",{className:"relative w-full h-[80vh]",children:(0,a.jsx)(n.default,{src:t,alt:"Enlarged image",className:"object-contain rounded-lg",fill:!0,unoptimized:t.includes("firebasestorage.googleapis.com"),sizes:"(max-width: 768px) 100vw, 80vw"})})]})})},{url:h,onClose:()=>u(null)}),(0,a.jsx)("div",{className:"container mx-auto px-3 sm:px-6 py-4 sm:py-8 max-w-5xl",children:(0,a.jsxs)("div",{ref:p,className:"bg-neutral-800 border border-neutral-700 rounded-lg overflow-hidden",children:[(0,a.jsx)(N,{title:"",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center mb-2",children:(0,a.jsx)("h1",{className:"text-white text-xl sm:text-2xl font-bold",children:"Vehicle Inspection Report"})}),(0,a.jsxs)("p",{className:"text-neutral-400 text-xs sm:text-sm mt-1",children:["Report ID: ",j(i,"id","")]}),(0,a.jsxs)("p",{className:"text-neutral-400 text-xs sm:text-sm",children:["Created on ",(e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return e}})(j(i,"createdAt",""))]})]}),(0,a.jsxs)("div",{className:"bg-neutral-900 px-3 py-2 sm:px-4 sm:py-3 rounded-md mt-2 sm:mt-0",children:[(0,a.jsx)("p",{className:"text-neutral-400 text-xs sm:text-sm",children:"Condition Rating"}),(0,a.jsx)(e=>{let{rating:t}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[[1,2,3,4,5].map(e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 ".concat(e<=(t||0)?"text-yellow-500":"text-neutral-600"),children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})},e)),(0,a.jsxs)("span",{className:"ml-1 text-neutral-400 text-sm",children:[t||0,"/5"]})]})},{rating:j(i,"conditionRating",0)})]})]})}),(0,a.jsx)(N,{title:"Client Information",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 sm:gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-neutral-400 text-xs sm:text-sm",children:"Name"}),(0,a.jsx)("p",{className:"text-white font-medium text-sm sm:text-base",children:j(i,"clientData.name","")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-neutral-400 text-xs sm:text-sm",children:"Phone"}),(0,a.jsx)("p",{className:"text-white font-medium text-sm sm:text-base",children:j(i,"clientData.phone","")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-neutral-400 text-xs sm:text-sm",children:"Location"}),(0,a.jsxs)("p",{className:"text-white font-medium text-sm sm:text-base",children:[j(i,"clientData.address.city",""),j(i,"clientData.address.city","")&&j(i,"clientData.address.country","")?", ":"",j(i,"clientData.address.country","")]})]})]})}),(0,a.jsx)(N,{title:"Vehicle Information",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 sm:gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-neutral-400 text-xs sm:text-sm",children:"Make/Model"}),(0,a.jsxs)("p",{className:"text-white font-medium text-sm sm:text-base",children:[j(i,"carData.make","")," ",j(i,"carData.model","")]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-neutral-400 text-xs sm:text-sm",children:"Year"}),(0,a.jsx)("p",{className:"text-white font-medium text-sm sm:text-base",children:j(i,"carData.year","")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-neutral-400 text-xs sm:text-sm",children:"Plate Number"}),(0,a.jsx)("p",{className:"text-white font-medium text-sm sm:text-base",children:j(i,"carData.plateNumber","")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-neutral-400 text-xs sm:text-sm",children:"VIN"}),(0,a.jsx)("p",{className:"text-white font-medium text-sm sm:text-base",children:j(i,"carData.vin","")})]})]})}),(0,a.jsxs)(N,{title:"Inspection Findings",children:[j(i,"inspectionFindings",[]).length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"text-white font-medium text-sm sm:text-base mb-2",children:"Issues Found"}),(0,a.jsx)(b,{items:j(i,"inspectionFindings",[])})]}),j(i,"inspectionNotes","")&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"text-white font-medium text-sm sm:text-base mb-2",children:"Technician Notes"}),(0,a.jsx)("div",{className:"bg-neutral-900 p-3 sm:p-4 rounded-md text-neutral-300 text-sm sm:text-base",children:(0,a.jsx)("p",{children:j(i,"inspectionNotes","")})})]}),j(i,"inspectionImages",[]).length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"text-white font-medium text-sm sm:text-base mb-2",children:"Inspection Images"}),(0,a.jsx)(g,{images:j(i,"inspectionImages",[])})]})]}),(0,a.jsxs)(N,{title:"Client Requests and Notes",children:[j(i,"clientRequests",[]).length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-white font-medium text-sm sm:text-base mb-2",children:"Client Requests"}),(0,a.jsx)(b,{items:j(i,"clientRequests",[])})]}),j(i,"clientNotes","")&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"text-white font-medium text-sm sm:text-base mb-2",children:"Client Notes"}),(0,a.jsx)("div",{className:"bg-neutral-900 p-3 sm:p-4 rounded-md text-neutral-300 text-sm sm:text-base",children:(0,a.jsx)("p",{children:j(i,"clientNotes","")})})]}),j(i,"clientNotesImages",[]).length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"text-white font-medium text-sm sm:text-base mb-2",children:"Client Provided Images"}),(0,a.jsx)(g,{images:j(i,"clientNotesImages",[])})]})]}),(0,a.jsxs)(N,{title:"Test Drive Results",children:[j(i,"testDriveNotes","")&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-white font-medium text-sm sm:text-base mb-2",children:"Test Drive Notes"}),(0,a.jsx)("div",{className:"bg-neutral-900 p-3 sm:p-4 rounded-md text-neutral-300 text-sm sm:text-base",children:(0,a.jsx)("p",{children:j(i,"testDriveNotes","")})})]}),j(i,"testDriveObservations",[]).length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"text-white font-medium text-sm sm:text-base mb-2",children:"Observations"}),(0,a.jsx)(b,{items:j(i,"testDriveObservations",[])})]}),j(i,"testDriveImages",[]).length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"text-white font-medium text-sm sm:text-base mb-2",children:"Test Drive Images"}),(0,a.jsx)(g,{images:j(i,"testDriveImages",[])})]})]}),(0,a.jsxs)(N,{title:"Conclusion",children:[j(i,"recommendations","")&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-white font-medium text-sm sm:text-base mb-2",children:"Recommendations"}),(0,a.jsx)("div",{className:"bg-neutral-900 p-3 sm:p-4 rounded-md text-neutral-300 text-sm sm:text-base",children:(0,a.jsx)("p",{children:j(i,"recommendations","")})})]}),j(i,"summary","")&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"text-white font-medium text-sm sm:text-base mb-2",children:"Summary"}),(0,a.jsx)("div",{className:"bg-neutral-900 p-3 sm:p-4 rounded-md text-neutral-300 text-sm sm:text-base",children:(0,a.jsx)("p",{children:j(i,"summary","")})})]})]})]})})]})}},6928:(e,t,s)=>{Promise.resolve().then(s.bind(s,469))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,63,874,884,441,684,358],()=>t(6928)),_N_E=e.O()}]);