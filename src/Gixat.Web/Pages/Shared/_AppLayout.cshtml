@{
    Layout = "_Layout";
    var currentPath = Context.Request.Path.ToString().ToLower();
}

@RenderSection("Styles", required: false)

<!-- Navbar -->
<nav class="bg-apple-dark sticky top-0 z-50 px-4 py-3">
    <div class="flex items-center justify-between max-w-full">
        <a class="flex items-center text-white font-semibold text-xl no-underline" href="/Dashboard">
            <i class="bi bi-gear-wide-connected mr-2"></i>Gixat
        </a>
        <div class="flex items-center gap-4">
            <span class="text-white/80 hover:text-white cursor-pointer">
                <i class="bi bi-bell text-lg"></i>
            </span>
            <span class="text-white/80 text-sm flex items-center gap-1">
                <i class="bi bi-person-circle"></i>
                @User.Identity?.Name
            </span>
            <a class="text-white/80 hover:text-white no-underline" href="/Auth/Logout">
                <i class="bi bi-box-arrow-right"></i>
            </a>
        </div>
    </div>
</nav>

<div class="flex min-h-[calc(100vh-56px)]">
    <!-- Sidebar -->
    <aside class="w-64 bg-white border-r border-gray-200 fixed h-[calc(100vh-56px)] overflow-y-auto py-6 hidden lg:block">
        <div class="px-5 pb-5 border-b border-gray-200 mb-4">
            <h6 class="text-xs font-semibold text-apple-gray uppercase tracking-wide">Main Menu</h6>
        </div>
        <ul class="space-y-1 px-3">
            <li>
                <a href="/Dashboard" class="flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition-all duration-200 @(currentPath == "/dashboard" ? "bg-gradient-to-r from-indigo-500 to-purple-600 text-white" : "text-apple-dark hover:bg-gray-100")">
                    <i class="bi bi-grid-1x2 text-lg w-6 text-center"></i>
                    Dashboard
                </a>
            </li>
            <li>
                <a href="/Sessions" class="flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition-all duration-200 @(currentPath.StartsWith("/sessions") ? "bg-gradient-to-r from-indigo-500 to-purple-600 text-white" : "text-apple-dark hover:bg-gray-100")">
                    <i class="bi bi-clipboard-check text-lg w-6 text-center"></i>
                    Sessions
                </a>
            </li>
            <li>
                <a href="/Clients" class="flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition-all duration-200 @(currentPath.StartsWith("/clients") ? "bg-gradient-to-r from-indigo-500 to-purple-600 text-white" : "text-apple-dark hover:bg-gray-100")">
                    <i class="bi bi-people text-lg w-6 text-center"></i>
                    Clients
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition-all duration-200 text-apple-dark hover:bg-gray-100">
                    <i class="bi bi-car-front text-lg w-6 text-center"></i>
                    Vehicles
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition-all duration-200 text-apple-dark hover:bg-gray-100">
                    <i class="bi bi-wrench text-lg w-6 text-center"></i>
                    Services
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition-all duration-200 text-apple-dark hover:bg-gray-100">
                    <i class="bi bi-calendar-check text-lg w-6 text-center"></i>
                    Appointments
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition-all duration-200 text-apple-dark hover:bg-gray-100">
                    <i class="bi bi-receipt text-lg w-6 text-center"></i>
                    Invoices
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition-all duration-200 text-apple-dark hover:bg-gray-100">
                    <i class="bi bi-box-seam text-lg w-6 text-center"></i>
                    Inventory
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition-all duration-200 text-apple-dark hover:bg-gray-100">
                    <i class="bi bi-graph-up text-lg w-6 text-center"></i>
                    Reports
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition-all duration-200 text-apple-dark hover:bg-gray-100">
                    <i class="bi bi-gear text-lg w-6 text-center"></i>
                    Settings
                </a>
            </li>
        </ul>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 lg:ml-64 p-8">
        @RenderBody()
    </main>
</div>

@RenderSection("Scripts", required: false)
