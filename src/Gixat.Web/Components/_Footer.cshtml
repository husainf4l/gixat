<!-- Footer Section -->
<footer style="background: linear-gradient(180deg, #1d1d1f 0%, #0d0d0e 100%); color: white; padding: 80px 20px 30px;">
    <div class="container" style="max-width: 1400px;">
        <div class="row g-5 mb-5">
            <!-- Company Info -->
            <div class="col-lg-4">
                <div style="margin-bottom: 24px;">
                    <img src="/avatars/gixat-logo(3).png" alt="Gixat Logo" style="height: 40px; width: auto; margin-bottom: 16px;">
                    <p style="color: rgba(255, 255, 255, 0.7); font-size: 0.9375rem; line-height: 1.6; margin-bottom: 24px;">
                        The all-in-one platform for modern garage management. Streamline operations, boost efficiency, and grow your business.
                    </p>
                    <!-- Social Links -->
                    <div style="display: flex; gap: 16px;">
                        <a href="#" style="width: 40px; height: 40px; border-radius: 50%; background: rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; color: white; text-decoration: none; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(102, 126, 234, 0.8)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'">
                            <i class="bi bi-facebook"></i>
                        </a>
                        <a href="#" style="width: 40px; height: 40px; border-radius: 50%; background: rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; color: white; text-decoration: none; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(102, 126, 234, 0.8)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'">
                            <i class="bi bi-twitter"></i>
                        </a>
                        <a href="#" style="width: 40px; height: 40px; border-radius: 50%; background: rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; color: white; text-decoration: none; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(102, 126, 234, 0.8)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'">
                            <i class="bi bi-linkedin"></i>
                        </a>
                        <a href="#" style="width: 40px; height: 40px; border-radius: 50%; background: rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; color: white; text-decoration: none; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(102, 126, 234, 0.8)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'">
                            <i class="bi bi-instagram"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Product Links -->
            <div class="col-6 col-lg-2">
                <h6 style="font-size: 0.875rem; font-weight: 600; color: white; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 0.5px;">Product</h6>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li style="margin-bottom: 12px;">
                        <a href="#features" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">Features</a>
                    </li>
                    <li style="margin-bottom: 12px;">
                        <a href="#pricing" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">Pricing</a>
                    </li>
                    <li style="margin-bottom: 12px;">
                        <a href="#" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">Integrations</a>
                    </li>
                    <li style="margin-bottom: 12px;">
                        <a href="#" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">Updates</a>
                    </li>
                </ul>
            </div>

            <!-- Company Links -->
            <div class="col-6 col-lg-2">
                <h6 style="font-size: 0.875rem; font-weight: 600; color: white; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 0.5px;">Company</h6>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li style="margin-bottom: 12px;">
                        <a href="#about" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">About</a>
                    </li>
                    <li style="margin-bottom: 12px;">
                        <a href="#" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">Blog</a>
                    </li>
                    <li style="margin-bottom: 12px;">
                        <a href="#" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">Careers</a>
                    </li>
                    <li style="margin-bottom: 12px;">
                        <a href="#" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">Contact</a>
                    </li>
                </ul>
            </div>

            <!-- Support Links -->
            <div class="col-6 col-lg-2">
                <h6 style="font-size: 0.875rem; font-weight: 600; color: white; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 0.5px;">Support</h6>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li style="margin-bottom: 12px;">
                        <a href="#" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">Help Center</a>
                    </li>
                    <li style="margin-bottom: 12px;">
                        <a href="#" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">Documentation</a>
                    </li>
                    <li style="margin-bottom: 12px;">
                        <a href="#" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">API Reference</a>
                    </li>
                    <li style="margin-bottom: 12px;">
                        <a href="#" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9375rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'">Status</a>
                    </li>
                </ul>
            </div>

            <!-- Newsletter -->
            <div class="col-lg-2">
                <h6 style="font-size: 0.875rem; font-weight: 600; color: white; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 0.5px;">Newsletter</h6>
                <p style="color: rgba(255, 255, 255, 0.7); font-size: 0.875rem; margin-bottom: 16px;">Stay updated with the latest features and news.</p>
                <div id="newsletter-status" style="margin-top: 12px; font-size: 0.875rem;"></div>
            </div>
        </div>

        <!-- Live Stats from GraphQL -->
        <div style="border-top: 1px solid rgba(255, 255, 255, 0.1); padding-top: 40px; margin-bottom: 40px;">
            <div class="row text-center g-4">
                <div class="col-6 col-md-3">
                    <div style="font-size: 1.75rem; font-weight: 700; color: white; margin-bottom: 4px;" id="footer-clients">0</div>
                    <div style="color: rgba(255, 255, 255, 0.6); font-size: 0.8125rem; text-transform: uppercase; letter-spacing: 0.5px;">Total Clients</div>
                </div>
                <div class="col-6 col-md-3">
                    <div style="font-size: 1.75rem; font-weight: 700; color: white; margin-bottom: 4px;" id="footer-garages">0</div>
                    <div style="color: rgba(255, 255, 255, 0.6); font-size: 0.8125rem; text-transform: uppercase; letter-spacing: 0.5px;">Active Garages</div>
                </div>
                <div class="col-6 col-md-3">
                    <div style="font-size: 1.75rem; font-weight: 700; color: white; margin-bottom: 4px;" id="footer-revenue">$0</div>
                    <div style="color: rgba(255, 255, 255, 0.6); font-size: 0.8125rem; text-transform: uppercase; letter-spacing: 0.5px;">Total Revenue</div>
                </div>
                <div class="col-6 col-md-3">
                    <div style="font-size: 1.75rem; font-weight: 700; color: white; margin-bottom: 4px;">24/7</div>
                    <div style="color: rgba(255, 255, 255, 0.6); font-size: 0.8125rem; text-transform: uppercase; letter-spacing: 0.5px;">Support</div>
                </div>
            </div>
        </div>

        <!-- Bottom Bar -->
        <div style="border-top: 1px solid rgba(255, 255, 255, 0.1); padding-top: 32px;">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    <p style="color: rgba(255, 255, 255, 0.5); font-size: 0.875rem; margin: 0;">
                        &copy; <span id="current-year"></span> Gixat. All rights reserved.
                    </p>
                </div>
                <div class="col-md-6">
                    <ul style="list-style: none; padding: 0; margin: 0; display: flex; gap: 24px; justify-content: center; justify-content: md-end;">
                        <li>
                            <a href="#" style="color: rgba(255, 255, 255, 0.5); text-decoration: none; font-size: 0.875rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.5)'">Privacy Policy</a>
                        </li>
                        <li>
                            <a href="#" style="color: rgba(255, 255, 255, 0.5); text-decoration: none; font-size: 0.875rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.5)'">Terms of Service</a>
                        </li>
                        <li>
                            <a href="#" style="color: rgba(255, 255, 255, 0.5); text-decoration: none; font-size: 0.875rem; transition: color 0.3s ease;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255, 255, 255, 0.5)'">Cookie Policy</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>

<script>
    // Set current year
    document.getElementById('current-year').textContent = new Date().getFullYear();

    // Load footer stats from GraphQL
    async function loadFooterStats() {
        const query = `
            query {
                platformStats {
                    totalClients
                    totalCompanies
                    totalRevenue
                }
            }
        `;

        try {
            const response = await fetch('/graphql', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ query })
            });

            const data = await response.json();
            
            if (data.data && data.data.platformStats) {
                const stats = data.data.platformStats;
                
                // Update footer stats with animation
                animateValue('footer-clients', 0, stats.totalClients, 2000);
                animateValue('footer-garages', 0, stats.totalCompanies, 2000);
                
                // Format revenue
                const revenueElement = document.getElementById('footer-revenue');
                if (revenueElement) {
                    const formattedRevenue = new Intl.NumberFormat('en-US', {
                        style: 'currency',
                        currency: 'USD',
                        minimumFractionDigits: 0,
                        maximumFractionDigits: 0
                    }).format(stats.totalRevenue);
                    revenueElement.textContent = formattedRevenue;
                }
            }
        } catch (error) {
            console.error('Error loading footer stats:', error);
        }
    }

    // Animate number counting
    function animateValue(id, start, end, duration) {
        const element = document.getElementById(id);
        if (!element) return;
        
        const range = end - start;
        const increment = range / (duration / 16);
        let current = start;
        
        const timer = setInterval(() => {
            current += increment;
            if (current >= end) {
                element.textContent = Math.round(end).toLocaleString();
                clearInterval(timer);
            } else {
                element.textContent = Math.round(current).toLocaleString();
            }
        }, 16);
    }

    // Load stats when footer is visible
    const footer = document.querySelector('footer');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                loadFooterStats();
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.1 });

    if (footer) {
        observer.observe(footer);
    }
</script>
